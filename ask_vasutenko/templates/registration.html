{% extends "base.html" %}
{% load static %}

{% block title %}
    Registration
{% endblock %}

{% block title-bar %}
    <h1>Registration</h1>
{% endblock %}

{% block main-content %}
    {% if form.all.errors %}
        <div class="form-error">
            {{ form.all.errors }}
        </div>
    {% endif %}
    <form action="#" class="register-form" method="post" enctype="multipart/form-data">
        {% csrf_token %}
        <div class="form-line">
            <p class="form-title">Username</p>
            <div class="input-block">
                <input value="{% if form.username.value %}{{ form.username.value }}{% endif %}" type="text" class="question-form-input" name="username" maxlength="25" required>
                {% if form.username.errors %}{{ form.username.errors }}{% endif %}
            </div>
        </div>
        <div class="form-line">
            <p class="form-title">Email</p>
            <div class="input-block">
                <input value="{% if form.email.value %}{{ form.email.value }}{% endif %}" type="email" class="question-form-input" name="email" maxlength="32" required>
                {% if form.email.errors %}{{ form.email.errors }}{% endif %}
            </div>
        </div>
        <div class="form-line">
            <p class="form-title">Name</p>
            <div class="input-block">
                <input value="{% if form.first_name.value %}{{ form.first_name.value }}{% endif %}" type="text" class="question-form-input" name="first_name" maxlength="32" required>
                {% if form.first_name.errors %}{{ form.first_name.errors }}{% endif %}
            </div>
        </div>
        <div class="form-line">
            <p class="form-title">Password</p>
            <div class="input-block">
                <input type="password" class="question-form-input" name="password" maxlength="32" required>
                {% if form.password.errors %}{{ form.password.errors }}{% endif %}
            </div>
        </div>
        <div class="form-line">
            <p class="form-title">Repeat password</p>
            <div class="input-block">
                <input type="password" class="question-form-input" name="password_confirmation" maxlength="32" required>
                {% if form.password_confirmation.errors %}{{ form.password_confirmation.errors }}{% endif %}
            </div>
        </div>
        <div class="form-line">
            <p class="form-title">Upload avatar</p>
            <input type="file" name="avatar" id="actual-btn" accept="image/png, image/jpeg" hidden/>
            <div class="choose-file-block">
                <label for="actual-btn" class="choose-file">Choose File</label>
                <span id="file-chosen">No file chosen</span>
            </div>
            <script>
                const actualBtn = document.getElementById('actual-btn');
                const fileChosen = document.getElementById('file-chosen');
                actualBtn.addEventListener('change', function() {
                fileChosen.textContent = this.files[0].name
                })
            </script>
        </div>
        <div class="form-line">
            <p class="form-title"></p>
            <button type="submit" class="form-submit">Register</button>
        </div>
    </form>
{% endblock %}